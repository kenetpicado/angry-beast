import{_ as y}from"./PrimaryButton-D9xsJ82q.js";import{_ as S}from"./InputForm-ZivRodwo.js";import{_ as C}from"./ModalForm-BzeIvtvi.js";import{_ as V,a as $,b as _,I as x}from"./TableSection-DnIYx_0D.js";import{_ as N}from"./DefaultLayout-CWSOlPCh.js";import{u as I,c as E,d as w,e as B}from"./toast-aXzCVqLX.js";import{k as D,T as F,o as n,c as j,w as u,b as o,a,h as l,j as q,l as A,F as O,u as r,t as m}from"./app-DhAk2B9F.js";import{I as T}from"./IconEdit-DVNOvkGw.js";import{I as U}from"./IconEye-BC8mxZUa.js";import{c as L}from"./confirmation-LqhIgFI2.js";import{a as f}from"./date-a-P_LG0S.js";import"./SecondaryButton-B4hYLcYP.js";import"./createVueComponent-YZjrh2G-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"mb-6 flex gap-3 items-center justify-between"},z=o("h2",{class:"text-2xl font-semibold"},"Conceptos",-1),G=o("th",null,"#",-1),H=o("th",null,"Nombre",-1),J=o("th",null,"último egreso",-1),K=o("th",null,"último ingreso",-1),P=o("th",null,"Acciones",-1),Q={key:0},R=o("td",{class:"text-center",colspan:"3"},"No hay datos que mostrar",-1),W=[R],X={key:0,class:"badge-red"},Y={key:1},Z={key:0,class:"badge-primary"},ee={key:1},oe={class:"flex gap-4"},he={__name:"Index",props:["concepts"],setup(i){const d=D(!1),t=F({id:null,name:""});function h(){t.id?t.put(route("dashboard.concepts.update",t.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{I(),p()}}):t.post(route("dashboard.concepts.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{E(),p()}})}function g(c){t.id=c.id,t.name=c.name,d.value=!0}function k(c){L({callback:()=>{t.delete(route("dashboard.concepts.destroy",c),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{w()},onError:s=>{B(s.message)}})}})}function p(){d.value=!1,t.reset()}return(c,s)=>(n(),j(N,{head:"Conceptos"},{default:u(()=>[o("div",M,[z,a(y,{text:"Nuevo",onClick:s[0]||(s[0]=e=>d.value=!0)})]),a($,null,{header:u(()=>[G,H,J,K,P]),body:u(()=>[i.concepts.data.length==0?(n(),l("tr",Q,W)):q("",!0),(n(!0),l(O,null,A(i.concepts.data,(e,b)=>(n(),l("tr",{key:e.id},[o("td",null,m(b+1+(i.concepts.current_page-1)*i.concepts.per_page),1),o("td",null,m(e.name),1),o("td",null,[e.last_egreso?(n(),l("span",X,m(r(f)(e.last_egreso)),1)):(n(),l("span",Y," No registrado "))]),o("td",null,[e.last_ingreso?(n(),l("span",Z,m(r(f)(e.last_ingreso)),1)):(n(),l("span",ee," No registrado "))]),o("td",null,[o("div",oe,[a(_,{icon:r(U),href:c.route("dashboard.concepts.show",e.id),tooltip:"Detalles"},null,8,["icon","href"]),a(_,{icon:r(T),onClick:v=>g(e),tooltip:"Editar"},null,8,["icon","onClick"]),a(_,{icon:r(x),onClick:v=>k(e.id),tooltip:"Eliminar"},null,8,["icon","onClick"])])])]))),128))]),footer:u(()=>[a(V,{links:i.concepts.links},null,8,["links"])]),_:1}),a(C,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=e=>d.value=e),onOnSubmit:h,onOnCancel:p,title:"Concepto",loading:r(t).processing},{default:u(()=>[a(S,{modelValue:r(t).name,"onUpdate:modelValue":s[1]||(s[1]=e=>r(t).name=e),label:"Nombre",name:"name",required:"",class:"col-span-2"},null,8,["modelValue"])]),_:1},8,["modelValue","loading"])]),_:1}))}};export{he as default};
